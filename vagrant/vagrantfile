# -*- mode: ruby -*-
# vi: set ft=ruby :

Vagrant.configure("2") do |config|
    # The definition of the VM (fake cloud)
    config.vm.define 'cloud' do |vagrant1|
  
      # The Operating system
      vagrant1.vm.box = "ubuntu/jammy64"
  
      # Setting the hostname
      vagrant1.vm.hostname = "fakeCloudS"
  
      # The system spec
      vagrant1.vm.provider "virtualBox" do |vm|
        vm.memory = 512
        vm.cpu = 1
        vm.name = "fakeCloud"
      end
  
      # The shared folder (ps: used to retrieve the token)
    #   vagrant1.vm.synced_folder "./confs", "/vagrant_data"
  
      # The netwrok setting
      vagrant1.vm.network "private_network", ip: "192.168.56.110"
      vagrant1.vm.network "forwarded_port", guest: 6443, host: 6443
  
      # The startup script
      vagrant1.vm.provision "shell", path: "./cloudScript.sh"
    end
end
